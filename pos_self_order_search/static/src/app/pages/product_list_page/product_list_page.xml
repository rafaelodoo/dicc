<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="pos_self_order_search.ProductListPageSearch" t-inherit="pos_self_order.ProductListPage" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('navbar-container')]" position="inside">
            <div class="d-flex align-items-center position-relative flex-grow-1 mx-3">
                <button class="search-button btn btn-light border-0 border-start rounded-0" t-on-click="focusSearch">
                    <i class="oi oi-search"/>
                </button>

                <div t-att-class="{ 'd-none': !searchState.isVisible }" t-attf-class="position-absolute top-0 start-0 w-100 h-100 px-3 pe-4 d-flex align-items-center bg-view">
                    <input type="text"
                        t-ref="searchInput"
                        class="form-control py-3 ps-0 border-0 shadow-none"
                        placeholder="Search product"
                        t-model="searchState.input" />
                    <button class="btn-close" t-on-click="focusSearch"/>
                </div>
            </div>
        </xpath>

        <xpath expr="//t[@t-foreach='selfOrder.productByCategIds[category.id]']" position="attributes">
            <attribute name="t-foreach">getFilteredProducts(selfOrder.productByCategIds[category.id])</attribute>
        </xpath>
    </t>
</templates> 